<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Ã‰mulateur PROCSI: src/instructions.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>src/instructions.h</h1><a href="instructions_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifndef INSTRUCTIONS_H</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#define INSTRUCTIONS_H</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span>
<a name="l00004"></a>00004 <span class="preprocessor">#include &lt;stdbool.h&gt;</span>
<a name="l00005"></a>00005 <span class="preprocessor">#include "<a class="code" href="sivm_8h.html">sivm.h</a>"</span>
<a name="l00006"></a>00006 <span class="preprocessor">#include "<a class="code" href="util_8h.html">util.h</a>"</span>
<a name="l00007"></a>00007 
<a name="l00012"></a><a class="code" href="instructions_8h.html#7e52f419c66934d2886b2abb42b69994">00012</a> <span class="keyword">enum</span> <a class="code" href="instructions_8h.html#7e52f419c66934d2886b2abb42b69994">instructions</a>
<a name="l00013"></a>00013 {
<a name="l00014"></a><a class="code" href="instructions_8h.html#7e52f419c66934d2886b2abb42b69994972dbcdf74cff71e20bdcfb53be9c391">00014</a>     <a class="code" href="instructions_8h.html#7e52f419c66934d2886b2abb42b69994972dbcdf74cff71e20bdcfb53be9c391">LOAD</a> =      0x8, <span class="comment">//ref: TD2 A.A.</span>
<a name="l00015"></a><a class="code" href="instructions_8h.html#7e52f419c66934d2886b2abb42b69994feb01cb4572ba190cd7932e49446c480">00015</a>     <a class="code" href="instructions_8h.html#7e52f419c66934d2886b2abb42b69994feb01cb4572ba190cd7932e49446c480">STORE</a> =     0x9, <span class="comment">//ref: TD2 A.A.</span>
<a name="l00016"></a><a class="code" href="instructions_8h.html#7e52f419c66934d2886b2abb42b69994cfcf145f2788bf340ff3f3098bc54909">00016</a>     <a class="code" href="instructions_8h.html#7e52f419c66934d2886b2abb42b69994cfcf145f2788bf340ff3f3098bc54909">ADD</a> =       0x0, <span class="comment">//ref: TD2 A.A.</span>
<a name="l00017"></a><a class="code" href="instructions_8h.html#7e52f419c66934d2886b2abb42b6999412b733d4941495e86811fe6ceeeff9da">00017</a>     <a class="code" href="instructions_8h.html#7e52f419c66934d2886b2abb42b6999412b733d4941495e86811fe6ceeeff9da">SUB</a> =       0x1, <span class="comment">//ref: TD2 A.A.</span>
<a name="l00018"></a><a class="code" href="instructions_8h.html#7e52f419c66934d2886b2abb42b69994227d95ecea3ff1219ddb58bb03d17d5a">00018</a>     <a class="code" href="instructions_8h.html#7e52f419c66934d2886b2abb42b69994227d95ecea3ff1219ddb58bb03d17d5a">JMP</a> =       0x2, <span class="comment">//no ref from now on</span>
<a name="l00019"></a><a class="code" href="instructions_8h.html#7e52f419c66934d2886b2abb42b69994ab36b821b5ebc3977ed6f898b2bca097">00019</a>     <a class="code" href="instructions_8h.html#7e52f419c66934d2886b2abb42b69994ab36b821b5ebc3977ed6f898b2bca097">JEQ</a> =       0x3,
<a name="l00020"></a><a class="code" href="instructions_8h.html#7e52f419c66934d2886b2abb42b69994bd0ebc08c262bab82a1882256d2d66e8">00020</a>     <a class="code" href="instructions_8h.html#7e52f419c66934d2886b2abb42b69994bd0ebc08c262bab82a1882256d2d66e8">CALL</a> =      0x4,
<a name="l00021"></a><a class="code" href="instructions_8h.html#7e52f419c66934d2886b2abb42b69994b2510768eaba5e52ba71678e19a65464">00021</a>     <a class="code" href="instructions_8h.html#7e52f419c66934d2886b2abb42b69994b2510768eaba5e52ba71678e19a65464">RET</a> =       0x5,
<a name="l00022"></a><a class="code" href="instructions_8h.html#7e52f419c66934d2886b2abb42b69994d263caec619c4d99e4684ba0fabd9493">00022</a>     <a class="code" href="instructions_8h.html#7e52f419c66934d2886b2abb42b69994d263caec619c4d99e4684ba0fabd9493">PUSH</a> =      0x6,
<a name="l00023"></a><a class="code" href="instructions_8h.html#7e52f419c66934d2886b2abb42b69994061dcf4785583d8653942f2d252174fa">00023</a>     <a class="code" href="instructions_8h.html#7e52f419c66934d2886b2abb42b69994061dcf4785583d8653942f2d252174fa">POP</a> =       0x7,
<a name="l00024"></a><a class="code" href="instructions_8h.html#7e52f419c66934d2886b2abb42b69994a1535ce8fd6caf08009dcae925741d9b">00024</a>         <a class="code" href="instructions_8h.html#7e52f419c66934d2886b2abb42b69994a1535ce8fd6caf08009dcae925741d9b">MOV</a> =   0xA,
<a name="l00025"></a><a class="code" href="instructions_8h.html#7e52f419c66934d2886b2abb42b69994a2fd6bbb0c07e28e835ba595e64df78c">00025</a>     <a class="code" href="instructions_8h.html#7e52f419c66934d2886b2abb42b69994a2fd6bbb0c07e28e835ba595e64df78c">HALT</a> =      0xF
<a name="l00026"></a>00026 };
<a name="l00027"></a>00027 
<a name="l00036"></a><a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c9167">00036</a> <span class="keyword">typedef</span> <span class="keyword">enum</span>
<a name="l00037"></a>00037 {
<a name="l00038"></a><a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c9167198cfd606bf32e626d44ba6fcb316fd8">00038</a>         <a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c9167198cfd606bf32e626d44ba6fcb316fd8">REGREG</a> = 0x0, <span class="comment">// 0b0000</span>
<a name="l00039"></a><a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c9167e5ce061f1604594cbe0ef165fbf366ea">00039</a>         <a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c9167e5ce061f1604594cbe0ef165fbf366ea">REGIMM</a> = 0x4, <span class="comment">// 0b0100</span>
<a name="l00040"></a><a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c916703543875c2e4474135329136294fded0">00040</a>         <a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c916703543875c2e4474135329136294fded0">REGDIR</a> = 0x8, <span class="comment">// 0b1000</span>
<a name="l00041"></a><a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c916717a6bcb55ba200e13bfbed5c6d38d729">00041</a>         <a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c916717a6bcb55ba200e13bfbed5c6d38d729">REGIND</a> = 0xC, <span class="comment">// 0b1100</span>
<a name="l00042"></a><a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c916749637b554b892949d363567799e84cd5">00042</a>         <a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c916749637b554b892949d363567799e84cd5">DIRIMM</a> = 0x5, <span class="comment">// 0b0100</span>
<a name="l00043"></a><a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c91679e940aaba5ed13f915b6cc12ae4ac64c">00043</a>         <a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c91679e940aaba5ed13f915b6cc12ae4ac64c">DIRREG</a> = 0x1, <span class="comment">// 0b0001</span>
<a name="l00044"></a><a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c9167bad88748832cf67d4c967116c38536f4">00044</a>         <a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c9167bad88748832cf67d4c967116c38536f4">INDIMM</a> = 0x6, <span class="comment">// 0b0110</span>
<a name="l00045"></a><a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c91673904cbf8001c1a38f0423cdab326a6a3">00045</a>         <a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c91673904cbf8001c1a38f0423cdab326a6a3">INDREG</a> = 0x2, <span class="comment">// 0b0010</span>
<a name="l00046"></a><a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c9167ceb7c305772dab23a260960771180df3">00046</a>         <a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c9167ceb7c305772dab23a260960771180df3">REGISTER</a>,
<a name="l00047"></a><a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c91679b293fee8577ffd6e0e44036b9a47dea">00047</a>         <a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c91679b293fee8577ffd6e0e44036b9a47dea">IMMEDIATE</a>,
<a name="l00048"></a><a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c91671ea328a644e627283a35716a54108248">00048</a>         <a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c91671ea328a644e627283a35716a54108248">DIRECT</a>,
<a name="l00049"></a><a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c9167a70fc5026d3a310a836fa57ac51d8a4e">00049</a>         <a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c9167a70fc5026d3a310a836fa57ac51d8a4e">INDIRECT</a>
<a name="l00050"></a>00050 } <a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c9167">mode</a>;
<a name="l00051"></a>00051 
<a name="l00056"></a><a class="code" href="instructions_8h.html#5e879828e8544d5fa749ff86891cffc8">00056</a> <span class="keyword">typedef</span> <span class="keyword">enum</span>
<a name="l00057"></a>00057 {
<a name="l00058"></a><a class="code" href="instructions_8h.html#5e879828e8544d5fa749ff86891cffc89152abfbec04d6604b0ad40f86876007">00058</a>         <a class="code" href="instructions_8h.html#5e879828e8544d5fa749ff86891cffc89152abfbec04d6604b0ad40f86876007">FM_REGREG</a> = 1 &lt;&lt; <a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c9167198cfd606bf32e626d44ba6fcb316fd8">REGREG</a>,
<a name="l00059"></a><a class="code" href="instructions_8h.html#5e879828e8544d5fa749ff86891cffc819c31eff774d9cb38ea08fc520ec59db">00059</a>         <a class="code" href="instructions_8h.html#5e879828e8544d5fa749ff86891cffc819c31eff774d9cb38ea08fc520ec59db">FM_REGIMM</a> = 1 &lt;&lt; <a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c9167e5ce061f1604594cbe0ef165fbf366ea">REGIMM</a>,
<a name="l00060"></a><a class="code" href="instructions_8h.html#5e879828e8544d5fa749ff86891cffc845d0467896b5f3c032cc5770350e0d3b">00060</a>         <a class="code" href="instructions_8h.html#5e879828e8544d5fa749ff86891cffc845d0467896b5f3c032cc5770350e0d3b">FM_REGDIR</a> = 1 &lt;&lt; <a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c916703543875c2e4474135329136294fded0">REGDIR</a>,
<a name="l00061"></a><a class="code" href="instructions_8h.html#5e879828e8544d5fa749ff86891cffc8d07d4050b988b4890fd60d881d8e2d62">00061</a>         <a class="code" href="instructions_8h.html#5e879828e8544d5fa749ff86891cffc8d07d4050b988b4890fd60d881d8e2d62">FM_REGIND</a> = 1 &lt;&lt; <a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c916717a6bcb55ba200e13bfbed5c6d38d729">REGIND</a>,
<a name="l00062"></a><a class="code" href="instructions_8h.html#5e879828e8544d5fa749ff86891cffc8190fbad35d70d3a96a7a1a163b33a360">00062</a>         <a class="code" href="instructions_8h.html#5e879828e8544d5fa749ff86891cffc8190fbad35d70d3a96a7a1a163b33a360">FM_DIRIMM</a> = 1 &lt;&lt; <a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c916749637b554b892949d363567799e84cd5">DIRIMM</a>,
<a name="l00063"></a><a class="code" href="instructions_8h.html#5e879828e8544d5fa749ff86891cffc85c6f24c7cac3cdccfc32bd383bf3b06f">00063</a>         <a class="code" href="instructions_8h.html#5e879828e8544d5fa749ff86891cffc85c6f24c7cac3cdccfc32bd383bf3b06f">FM_DIRREG</a> = 1 &lt;&lt; <a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c91679e940aaba5ed13f915b6cc12ae4ac64c">DIRREG</a>,
<a name="l00064"></a><a class="code" href="instructions_8h.html#5e879828e8544d5fa749ff86891cffc848c52f24d7f7a4ad790df5b026913efe">00064</a>         <a class="code" href="instructions_8h.html#5e879828e8544d5fa749ff86891cffc848c52f24d7f7a4ad790df5b026913efe">FM_INDIMM</a> = 1 &lt;&lt; <a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c9167bad88748832cf67d4c967116c38536f4">INDIMM</a>,
<a name="l00065"></a><a class="code" href="instructions_8h.html#5e879828e8544d5fa749ff86891cffc8e85cb8854364b67e508c7781b275022d">00065</a>         <a class="code" href="instructions_8h.html#5e879828e8544d5fa749ff86891cffc8e85cb8854364b67e508c7781b275022d">FM_INDREG</a> = 1 &lt;&lt; <a class="code" href="instructions_8h.html#1a6b6fb557d8d37d59700faf4e4c91673904cbf8001c1a38f0423cdab326a6a3">INDREG</a>
<a name="l00066"></a>00066 } <a class="code" href="instructions_8h.html#5e879828e8544d5fa749ff86891cffc8">f_mode</a>;
<a name="l00068"></a>00068 
<a name="l00069"></a>00069 
<a name="l00070"></a><a class="code" href="structInstr.html">00070</a> <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00071"></a>00071     bool (*function)(<a class="code" href="structSIVM.html">SIVM</a> *sivm, <a class="code" href="sivm_8h.html#9e9b08bbbfb50d0535079872d3ed87c3">REG</a> *dest, <span class="keyword">const</span> <a class="code" href="unioncmd__word.html">cmd_word</a> source);
<a name="l00072"></a><a class="code" href="structInstr.html#417a045b27e6632650c53c450bcce281">00072</a>     <a class="code" href="instructions_8h.html#5e879828e8544d5fa749ff86891cffc8">f_mode</a> modes;
<a name="l00073"></a><a class="code" href="structInstr.html#7ecba51103475c6101d67e1b55b11859">00073</a>         <span class="keywordtype">char</span>* name;
<a name="l00074"></a>00074 } <a class="code" href="structInstr.html">Instr</a>;
<a name="l00075"></a>00075 
<a name="l00076"></a>00076 <span class="keywordtype">bool</span> <a class="code" href="instructions_8c.html#da6ae97a698e3dc91e85df8e60891082">checkModes</a>(<span class="keyword">const</span> <a class="code" href="unioncmd__word.html">cmd_word</a> m);
<a name="l00077"></a>00077 
<a name="l00078"></a>00078 <a class="code" href="structInstr.html">Instr</a> <a class="code" href="instructions_8c.html#3447c429bccd6713583e9e1193e60f45">getInstruction</a>(<span class="keyword">const</span> <a class="code" href="unioncmd__word.html">cmd_word</a> m);
<a name="l00079"></a>00079 
<a name="l00080"></a>00080 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Jan 30 16:08:03 2009 for Ã‰mulateur PROCSI by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.7.1 </small></address>
</body>
</html>
